# texttoimagetovideo_comfyui_animatediff
This is a customized setup of ComfyUI with AnimateDiff-Evolved and several additional nodes, designed for anime and realistic video generation.

## Included Nodes
- AnimateDiff-Evolved
- ControlNet Auxiliary
- VHS (Video Helper Suite)
- WAS Node Suite
- ComfyUI Manager

## Credits
- [ComfyUI](https://github.com/comfyanonymous/ComfyUI)
- [AnimateDiff-Evolved](https://github.com/continue-revolution/AnimateDiff)
- [VideoHelperSuite](https://github.com/Kosinkadink/ComfyUI-VideoHelperSuite)
- [WAS Node Suite](https://github.com/WASasquatch/was-node-suite-comfyui)



[wf1.json](https://github.com/user-attachments/files/21567842/wf1.json)
{"id":"104ab4ca-a99d-46f3-b425-1e4536ccd720","revision":0,"last_node_id":54,"last_link_id":76,"nodes":[{"id":4,"type":"CLIPSetLastLayer","pos":[431.1413269042969,184.59417724609375],"size":[315,58],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":75},{"localized_name":"stop_at_clip_layer","name":"stop_at_clip_layer","type":"INT","widget":{"name":"stop_at_clip_layer"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[2,3]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2]},{"id":20,"type":"ControlNetLoaderAdvanced","pos":[555,-480],"size":[367.79998779296875,78],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"tk_optional","name":"tk_optional","shape":7,"type":"TIMESTEP_KEYFRAME","link":null},{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null},{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","slot_index":0,"links":[28]}],"properties":{"cnr_id":"comfyui-advanced-controlnet","ver":"1.5.4","Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11p_sd15_openpose.pth"],"color":"#323","bgcolor":"#535"},{"id":7,"type":"KSampler","pos":[1505,-504],"size":[315,262],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":47},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":36},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":37},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":45},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":6},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[9,52]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"KSampler"},"widgets_values":[44444444,"fixed",20,8,"euler","normal",1]},{"id":24,"type":"ControlNetApplyAdvanced","pos":[1023,-488],"size":[315,186],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":30},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":31},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":28},{"localized_name":"image","name":"image","type":"IMAGE","link":70},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[36,57]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[37,58]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"color":"#323","bgcolor":"#535"},{"id":5,"type":"PrimitiveNode","pos":[279,431],"size":[285.6000061035156,82],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","widget":{"name":"seed"},"slot_index":0,"links":[6,64]}],"title":"Primitive (I'm using this as seed)","properties":{"Run widget replace on values":false},"widgets_values":[44444444,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":9,"type":"EmptyLatentImage","pos":[964,-138],"size":[315,106],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":null},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":71}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[45]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,768,16]},{"id":10,"type":"VAEDecode","pos":[1939,-473],"size":[210,46],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":9},{"localized_name":"vae","name":"vae","type":"VAE","link":10}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[72]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":52,"type":"VHS_VideoCombine","pos":[2328,81],"size":[315,694.5],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":73},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"aaa_readme_cn","format":"image/gif","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"aaa_readme_cn_00002.gif","subfolder":"","type":"output","format":"image/gif","frame_rate":8,"workflow":"aaa_readme_cn_00002.png","fullpath":"A:\\photos\\ComfyUI\\ComfyUI\\output\\aaa_readme_cn_00002.gif"}}},"color":"#223","bgcolor":"#335"},{"id":33,"type":"ADE_AnimateDiffLoaderWithContext","pos":[517.3614501953125,-172.1913299560547],"size":[315,254],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":74},{"localized_name":"context_options","name":"context_options","shape":7,"type":"CONTEXT_OPTIONS","link":null},{"localized_name":"motion_lora","name":"motion_lora","shape":7,"type":"MOTION_LORA","link":null},{"localized_name":"ad_settings","name":"ad_settings","shape":7,"type":"AD_SETTINGS","link":null},{"localized_name":"sample_settings","name":"sample_settings","shape":7,"type":"SAMPLE_SETTINGS","link":null},{"localized_name":"ad_keyframes","name":"ad_keyframes","shape":7,"type":"AD_KEYFRAMES","link":null},{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null},{"localized_name":"beta_schedule","name":"beta_schedule","type":"COMBO","widget":{"name":"beta_schedule"},"link":null},{"localized_name":"motion_scale","name":"motion_scale","shape":7,"type":"FLOAT","widget":{"name":"motion_scale"},"link":null},{"localized_name":"apply_v2_models_properly","name":"apply_v2_models_properly","shape":7,"type":"BOOLEAN","widget":{"name":"apply_v2_models_properly"},"link":null},{"localized_name":"deprecation_warning","name":"deprecation_warning","shape":7,"type":"ADEWARN","widget":{"name":"deprecation_warning"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[47,55]}],"properties":{"cnr_id":"comfyui-animatediff-evolved","ver":"a34036b662d69d155a4536b2ac65483ae941e257","Node name for S&R":"ADE_AnimateDiffLoaderWithContext","aux_id":"Kosinkadink/ComfyUI-AnimateDiff-Evolved"},"widgets_values":["temporaldiff-v1-animatediff.ckpt","sqrt_linear (AnimateDiff)",1,true,""],"color":"#432","bgcolor":"#653"},{"id":50,"type":"VHS_LoadImages","pos":[-411.657470703125,-335.4079284667969],"size":[315,503],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"directory","name":"directory","type":"COMBO","widget":{"name":"directory"},"link":null},{"localized_name":"image_load_cap","name":"image_load_cap","shape":7,"type":"INT","widget":{"name":"image_load_cap"},"link":null},{"localized_name":"skip_first_images","name":"skip_first_images","shape":7,"type":"INT","widget":{"name":"skip_first_images"},"link":null},{"localized_name":"select_every_nth","name":"select_every_nth","shape":7,"type":"INT","widget":{"name":"select_every_nth"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[69,70]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null},{"localized_name":"frame_count","name":"frame_count","type":"INT","slot_index":2,"links":[71]}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","Node name for S&R":"VHS_LoadImages"},"widgets_values":{"directory":"openpose_full","image_load_cap":0,"skip_first_images":16,"select_every_nth":1,"choose folder to upload":"image","videopreview":{"hidden":false,"paused":false,"params":{"filename":"openpose_full","type":"input","format":"folder","image_load_cap":0,"skip_first_images":0,"select_every_nth":1}}},"color":"#223","bgcolor":"#C00"},{"id":41,"type":"KSampler","pos":[1942,-53],"size":[315,262],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":55},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":57},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":58},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":53},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":64},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[59]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"KSampler"},"widgets_values":[44444444,"fixed",20,8,"euler","normal",1]},{"id":42,"type":"VAEDecode","pos":[2330.592041015625,-55.241050720214844],"size":[210,46],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":59},{"localized_name":"vae","name":"vae","type":"VAE","link":60}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[73]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":39,"type":"PreviewImage","pos":[42.38261032104492,-872.5780029296875],"size":[210,246],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":69}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":3,"type":"CLIPTextEncode","pos":[1474.0621337890625,255.85983276367188],"size":[377.7811279296875,124.52955627441406],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":2},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[30]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CLIPTextEncode"},"widgets_values":["1boy, solo, outdoors, city, dancing, jeans, dress shirt, blonde hair, long hair, brown eyes show everything"],"color":"#232","bgcolor":"#353"},{"id":40,"type":"LatentUpscaleBy","pos":[1443.3837890625,-12.542152404785156],"size":[315,82],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":52},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"scale_by","name":"scale_by","type":"FLOAT","widget":{"name":"scale_by"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[53]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"LatentUpscaleBy"},"widgets_values":["nearest-exact",1.5]},{"id":6,"type":"CLIPTextEncode","pos":[966.5419921875,403.6874084472656],"size":[391.23883056640625,88],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":3},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[31]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CLIPTextEncode"},"widgets_values":["(worst quality, low quality: 1.4)"],"color":"#322","bgcolor":"#533"},{"id":51,"type":"VHS_VideoCombine","pos":[2323.862548828125,-1040.13525390625],"size":[315,790.5],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"LATENT","link":72},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":76},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":null},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null},{"name":"pix_fmt","type":["yuv420p","yuv420p10le"],"widget":{"name":"pix_fmt"},"link":null},{"name":"crf","type":"INT","widget":{"name":"crf"},"link":null},{"name":"save_metadata","type":"BOOLEAN","widget":{"name":"save_metadata"},"link":null},{"name":"trim_to_audio","type":"BOOLEAN","widget":{"name":"trim_to_audio"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.7.2","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"aaa_readme_cn","format":"video/h264-mp4","pix_fmt":"yuv420p10le","crf":20,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"aaa_readme_cn_00001.gif","subfolder":"","type":"output","format":"image/gif","frame_rate":8,"workflow":"aaa_readme_cn_00001.png","fullpath":"A:\\photos\\ComfyUI\\ComfyUI\\output\\aaa_readme_cn_00001.gif"}}},"color":"#223","bgcolor":"#335"},{"id":2,"type":"VAELoader","pos":[179,326],"size":[385.8948669433594,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[10,60]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.safetensors"]},{"id":53,"type":"CheckpointLoaderSimple","pos":[18.29163932800293,100.69149780273438],"size":[270,98],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[74]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[75]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[76]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.47","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["cardosAnime_v20.safetensors"]}],"links":[[2,4,0,3,0,"CLIP"],[3,4,0,6,0,"CLIP"],[6,5,0,7,4,"INT"],[9,7,0,10,0,"LATENT"],[10,2,0,10,1,"VAE"],[28,20,0,24,2,"CONTROL_NET"],[30,3,0,24,0,"CONDITIONING"],[31,6,0,24,1,"CONDITIONING"],[36,24,0,7,1,"CONDITIONING"],[37,24,1,7,2,"CONDITIONING"],[45,9,0,7,3,"LATENT"],[47,33,0,7,0,"MODEL"],[52,7,0,40,0,"LATENT"],[53,40,0,41,3,"LATENT"],[55,33,0,41,0,"MODEL"],[57,24,0,41,1,"CONDITIONING"],[58,24,1,41,2,"CONDITIONING"],[59,41,0,42,0,"LATENT"],[60,2,0,42,1,"VAE"],[64,5,0,41,4,"INT"],[69,50,0,39,0,"IMAGE"],[70,50,0,24,3,"IMAGE"],[71,50,2,9,2,"INT"],[72,10,0,51,0,"IMAGE"],[73,42,0,52,0,"IMAGE"],[74,53,0,33,0,"MODEL"],[75,53,1,4,0,"CLIP"],[76,53,2,51,3,"VAE"]],"groups":[{"id":1,"title":"Change this to match your model reqs","bounding":[414,101,416,165],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Animation length determined by Latents passed in","bounding":[853,-210,550,191],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"From adv-controlnet/image","bounding":[-530.6928100585938,-426.3808898925781,454,253],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.2284597357367268,"offset":[-1940.469341381639,-254.39758723735738]}},"version":0.4}



<img width="1481" height="546" alt="image" src="https://github.com/user-attachments/assets/f625d745-e8f3-47b3-b216-9bf4a9f98101" />

